{{#if error}}
<div class="auth-error">{{error}}</div>
{{/if}}

{{#if info}}
<div class="auth-success">{{info}}</div>
{{/if}}

<h2 class="auth-subtitle">{{msg "changePasswordTitle"}}</h2>
<p style="color: #6b7280; font-size: 0.85rem; margin-bottom: 1.25rem; text-align: center;">
  {{msg "changePasswordExpired"}}
</p>

<form method="POST" action="/realms/{{realmName}}/change-password" class="auth-form">
  <input type="hidden" name="token" value="{{token}}" />

  <div class="form-group">
    <label for="currentPassword">{{msg "changePasswordCurrent"}}</label>
    <input type="password" id="currentPassword" name="currentPassword" required autocomplete="current-password">
  </div>

  <div class="form-group">
    <label for="newPassword">{{msg "changePasswordNew"}}</label>
    <input type="password" id="newPassword" name="newPassword" required minlength="8" autocomplete="new-password">
  </div>

  <div class="form-group">
    <label for="confirmPassword">{{msg "changePasswordConfirm"}}</label>
    <input type="password" id="confirmPassword" name="confirmPassword" required minlength="8" autocomplete="new-password">
  </div>

  {{#if policyHints}}
  <div style="background: #f3f4f6; border-radius: 6px; padding: 0.75rem; font-size: 0.8rem; color: #6b7280;">
    <strong>{{msg "changePasswordRequirements"}}</strong>
    <ul style="margin: 0.25rem 0 0 1rem; padding: 0;">
      {{#each policyHints}}
      <li>{{this}}</li>
      {{/each}}
    </ul>
  </div>
  {{/if}}

  <button type="submit" class="btn-primary">{{msg "changePasswordSubmit"}}</button>
</form>
